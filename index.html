<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Garden Spin ‚Äî —Ñ–∞–Ω-–∏–≤–µ–Ω—Ç</title>
  <style>
    body{font-family:system-ui,-apple-system,Arial;margin:0;padding:24px;display:flex;flex-direction:column;align-items:center;gap:16px}
    .slot{font-size:48px;letter-spacing:12px;border:2px solid #ddd;border-radius:12px;padding:12px 24px;min-width:220px;text-align:center}
    button{font-size:18px;padding:10px 18px;border-radius:10px;border:1px solid #ccc;background:#f6f6f6}
    .msg{min-height:40px}
    .rules{max-width:580px;font-size:14px;color:#444}
  </style>
</head>
<body>
  <h1>üé∞ Garden Spin ‚Äî —Ñ–∞–Ω-–∏–≤–µ–Ω—Ç</h1>
  <div class="slot" id="slot">‚Äì | ‚Äì | ‚Äì</div>
  <button id="spinBtn">–ö—Ä—É—Ç–∏—Ç—å</button>
  <div class="msg" id="msg"></div>

  <div class="rules">
    <h3>–ü—Ä–∞–≤–∏–ª–∞:</h3>
    <ol>
      <li>–ö–∞–∂–¥—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–∏–∑ üéÅ (–Ω–∞–ø—Ä–∏–º–µ—Ä, +5 shekels).</li>
      <li>–ï—Å–ª–∏ –≤—ã–ø–∞–¥–∞–µ—Ç <b>777</b> ‚Äî –¥–æ–ø. –ø—Ä–∏–∑: —Ä–µ–¥–∫–∏–π –ø–∏—Ç–æ–º–µ—Ü.</li>
      <li>–î–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–∏–∑–∞ –Ω–∞–ø–∏—à–∏—Ç–µ <b>baur</b> –≤ Telegram –∏ –ø—Ä–∏—à–ª–∏—Ç–µ —Å–∫—Ä–∏–Ω.</li>
    </ol>
    <p>–ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–µ–Ω–µ–≥, —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤—ã–µ –±–æ–Ω—É—Å—ã.</p>
  </div>

  <script>
    const slot = document.getElementById('slot');
    const msg  = document.getElementById('msg');
    const btn  = document.getElementById('spinBtn');

    function rand(){ return Math.floor(Math.random()*8); } // 0..7
    function sleep(ms){ return new Promise(r=>setTimeout(r,ms)); }

    // —à–∞–Ω—Å –¥–∂–µ–∫–ø–æ—Ç–∞: 1% (–ø–æ–º–µ–Ω—è–π 0.01 –Ω–∞ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
    function roll(){
      if (Math.random() < 0.01) return [7,7,7];
      let a=rand(), b=rand(), c=rand();
      if (a===7 && b===7 && c===7) c=6;
      return [a,b,c];
    }

    async function animateTo(res){
      for (let i=0;i<10;i++){
        slot.textContent = `${rand()} | ${rand()} | ${rand()}`;
        await sleep(70 + i*15);
      }
      slot.textContent = `${res[0]} | ${res[1]} | ${res[2]}`;
    }

    btn.addEventListener('click', async ()=>{
      btn.disabled = true; msg.textContent = '–ö—Ä—É—Ç–∏–º...';
      const r = roll();
      await animateTo(r);
      if (r.every(v=>v===7)){
        msg.innerHTML = '‚ú® 777! –î–æ–ø. –ø—Ä–∏–∑ ‚Äî —Ä–µ–¥–∫–∏–π –ø–∏—Ç–æ–º–µ—Ü. –ù–∞–ø–∏—à–∏—Ç–µ <b>baur</b>.';
      } else {
        msg.innerHTML = 'üéÅ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–∏–∑ –Ω–∞—á–∏—Å–ª–∏–º ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ <b>baur</b>.';
      }
      btn.disabled = false;
    });
  </script>
</body>
</html>
